# React 학습 노트: Props

## 1\. Props (Properties) 란?

React에서 **"props"** 는 **속성(properties)** 을 의미하며, 컴포넌트 간에 데이터를 전달하는 핵심적인 메커니즘입니다. Props는 React의 주요 특징 중 하나인 \*\*단방향 데이터 흐름(One-Way Data Flow)\*\*을 가능하게 합니다.

- **단방향 데이터 흐름**: 데이터는 항상 **부모 컴포넌트**에서 **자식 컴포넌트**로, 위에서 아래로만 전달됩니다.
- **읽기 전용 (Read-Only)**: 자식 컴포넌트는 전달받은 props를 직접 수정할 수 없습니다.
- **재사용성**: props를 통해 동일한 컴포넌트에 다른 값을 주입하여, 다양한 UI를 동적으로 생성하고 재사용성을 극대화할 수 있습니다.

-----

## 2\. Props 사용 방법 및 예제

### 2.1. 기본 사용법

부모 컴포넌트에서 자식 컴포넌트를 사용할 때, HTML의 속성(attribute)처럼 props를 작성하여 데이터를 전달합니다. 자식 컴포넌트는 함수의 매개변수처럼 이 props 객체를 받아 사용합니다.

**교안 예제 코드**

```jsx
// 자식 컴포넌트: Person
// props 객체를 통해 name과 age 값을 받아 사용합니다.
function Person(props) {
  return <h1>Hello, {props.name}. You are {props.age} years old.</h1>;
}

// 부모 컴포넌트: App
// Person 컴포넌트에 name과 age라는 이름으로 props를 전달합니다.
function App() {
  return <Person name="Sarah" age={28} />;
}
```

### 2.2. 프로젝트 코드 적용 예제

우리 프로젝트에서는 `App` 컴포넌트가 최상위 부모 역할을 하며, 자식 컴포넌트들에게 데이터를 props로 전달하고 있습니다.

**`src/App.jsx` (부모 컴포넌트)**

```jsx
import React from 'react';
import ExpenseList from './components/expenses/ExpenseList.jsx';

const App = () => {
    // 'expenseList'라는 배열 데이터를 정의
    const expenseList = [
        { title: '닭강정', price: 8000, date: new Date(2025, 7, 13) },
        { title: '호두정과', price: 50000, date: new Date(2025, 8, 21) },
        { title: '리팩토링', price: 33000, date: new Date(2025, 4, 2) },
    ];

    return (
        <>
            {/* ExpenseList 컴포넌트에 'expenses'라는 이름으로 expenseList 배열을 전달 */}
            <ExpenseList expenses={expenseList}/>
        </>
    );
};

export default App;
```

**`src/components/expenses/ExpenseList.jsx` (자식 컴포넌트)**

```jsx
import React from 'react';
import ExpenseItem from './ExpenseItem.jsx';

// App 컴포넌트로부터 'expenses' prop을 받습니다.
// 구조 분해 할당을 사용해 props.expenses 대신 바로 expenses를 사용할 수 있습니다.
const ExpenseList = ({ expenses }) => {
    return (
        <div className='expenses'>
            {/* 전달받은 배열의 각 항목을 다시 ExpenseItem 컴포넌트에 'expense' prop으로 전달 */}
            <ExpenseItem expense={expenses[0]} />
            <ExpenseItem expense={expenses[1]} />
            <ExpenseItem expense={expenses[2]} />
        </div>
    );
};

export default ExpenseList;
```

**`src/components/expenses/ExpenseItem.jsx` (또 다른 자식 컴포넌트)**

```jsx
import React from 'react';
import ExpenseDate from './ExpenseDate.jsx';

// ExpenseList로부터 'expense' 객체를 prop으로 받습니다.
const ExpenseItem = ({ expense }) => {
    // 전달받은 객체의 속성을 사용해 UI를 구성합니다.
    const { title, date, price } = expense;
    const formatPrice = new Intl.NumberFormat('ko-KR').format(price);

    return (
        <div className="expense-item">
            {/* ExpenseDate 컴포넌트에 'expenseDate'라는 이름으로 date 객체를 전달 */}
            <ExpenseDate expenseDate={date} />
            <div className="expense-item__description">
                <h2>{title}</h2>
                <div className="expense-item__price">{formatPrice}원</div>
            </div>
        </div>
    );
};

export default ExpenseItem;
```

-----

## 3\. 다양한 데이터 타입 전달

Props로는 문자열, 숫자뿐만 아니라 JavaScript의 모든 데이터 타입(배열, 객체, 함수, 불리언 등)을 전달할 수 있습니다.

- **배열 전달**: 위 `App.jsx` 예제에서 `expenseList` 배열을 전달했습니다.
- **객체 전달**: `ExpenseList.jsx`에서 `expenses` 배열의 각 요소를 `expense`라는 이름의 객체로 `ExpenseItem`에 전달했습니다.

**교안 예제 코드: 객체 전달**

```jsx
// 자식 컴포넌트
function Profile(props) {
  const profile = props.profile;
  return (
    <div>
      <h1>{profile.name}</h1>
      <p>{profile.description}</p>
    </div>
  );
}

// 부모 컴포넌트
function App() {
  const profileData = {
    name: 'Sarah',
    description: 'A software developer'
  };
  // profile 이라는 이름으로 profileData 객체를 전달
  return <Profile profile={profileData} />;
}
```

-----

## 4\. `props.children`

`props.children`은 React에서 제공하는 특별한 prop입니다. 컴포넌트의 여는 태그와 닫는 태그 사이에 위치하는 모든 자식 요소들을 값으로 가집니다. 이를 통해 다른 컴포넌트를 감싸는 **래퍼(Wrapper) 컴포넌트**를 만들거나, 컴포넌트의 내용을 동적으로 구성할 때 매우 유용합니다.

### 4.1. `props.children` 사용 예제

우리 프로젝트의 `Card` 컴포넌트는 `props.children`을 활용한 좋은 예시입니다. 공통적인 카드 UI(스타일) 안에 다양한 내용을 담을 수 있게 해줍니다.

**`src/components/ui/Card.jsx` (래퍼 컴포넌트)**

```jsx
import React from 'react';
import './Card.css';

// children과 className을 props로 받습니다.
const Card = ({ children, className = '' }) => {
    // props.children은 이 컴포넌트가 감싸고 있는 자식 요소들(ExpenseItem 컴포넌트들)을 의미합니다.
    // 외부에서 전달된 className을 추가로 적용할 수 있도록 합니다.
    return (
        <div className={`card ${className}`}>
            {children}
        </div>
    );
};

export default Card;
```

**`Card` 컴포넌트 사용 (`ExpenseList.jsx` 내부)**

```jsx
import Card from '../ui/Card.jsx';
import ExpenseItem from './ExpenseItem.jsx';

const ExpenseList = ({ expenses }) => {
    return (
        // Card 컴포넌트가 ExpenseItem 컴포넌트들을 감싸고 있습니다.
        // 이때 ExpenseItem 들이 Card의 props.children이 됩니다.
        <Card className='expenses'>
            <ExpenseItem expense={expenses[0]} />
            <ExpenseItem expense={expenses[1]} />
            <ExpenseItem expense={expenses[2]} />
        </Card>
    );
};
```

위 코드에서 `Card` 컴포넌트는 내부에 있는 3개의 `ExpenseItem` 컴포넌트들에게 공통적인 카드 스타일(테두리, 그림자 등)을 적용해주는 역할을 합니다. 이처럼 `props.children`을 사용하면 레이아웃이나 스타일링 컴포넌트를 쉽게 재사용할 수 있습니다.