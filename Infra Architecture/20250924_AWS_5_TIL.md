# EC2 인스턴스에 역할 부여하기
 
## aws cli로 열기

- 터미널에 `$ aws iam list-roles`  라고 입력해봅니다.
- 그러면 권한이 없다는 메시지가 나옵니다.

<img width="1049" height="132" alt="image" src="https://github.com/user-attachments/assets/50d0fa7b-386d-42c9-babf-fd083fb2b9a8" />


- 이는 해당 EC2 인스턴스가 IAM에 접근할 권한이 없기 때문입니다.
- 그러면 EC2에 IAM 접근 권한을 부여해보겠습니다.
- AWS 콘솔에서 IAM에 접속합니다. 그리고 좌측탭에 역할을 클릭합니다.

<img width="1019" height="691" alt="image" src="https://github.com/user-attachments/assets/d9474ad4-1d31-4e85-9b4e-b759e628ebae" />


- 우측 상단에 역할 만들기를 클릭합니다.

<img width="453" height="142" alt="image" src="https://github.com/user-attachments/assets/b22d6cbf-6176-4c33-a72e-e84ad63c5da2" />


- 사용 사례 → 일반 사용 사례에 있는 EC2를 선택하고 우측 하단 다음을 클릭합니다.

<img width="825" height="592" alt="image" src="https://github.com/user-attachments/assets/ad4fc144-c042-420e-8e14-6e9509466d30" />


- 권한 정책에 검색창에  ` IAM ` 을 검색 한 후
- ` IAMReadOnlyAccess ` 를 체크 한 후 다음을 클릭합니다.

<img width="1152" height="587" alt="image" src="https://github.com/user-attachments/assets/458ea870-6812-4113-8f93-6467bbb1bd09" />


- 역할 이름을 짓고 설명을 쓰고 우측 하단에 역할 생성을 클릭합니다.

<img width="1127" height="343" alt="image" src="https://github.com/user-attachments/assets/e9b8e46d-22f4-4c34-b52e-fec66bd85097" />


- 다시  AWS 콘솔에서 EC2 대시보드로 이동한 후 인스턴스를 선택 후 아래 탭에서 보안을 클릭해보면 IAM역할이 없는 것을 볼 수 있습니다.

<img width="896" height="447" alt="image" src="https://github.com/user-attachments/assets/c52526b4-eb58-4202-8c71-1955f46b20e9" />


- 우측 상단 탭에 작업 → 보안 → IAM 역할 수정을 누릅니다.

<img width="625" height="389" alt="image" src="https://github.com/user-attachments/assets/9de443f7-72a7-4406-b88f-e9c96a276099" />


- 아까 만든 Role을 선택한 후 IAM 역할 업데이트를 클릭합니다.

<img width="849" height="378" alt="image" src="https://github.com/user-attachments/assets/8f944dc7-6a82-4f25-906b-b97cc25f89e1" />


- 다시한번 터미널에서  `$ aws iam list-roles` 를 입력해보면 아까와는 달리 역할 목록이 뜨는 걸 확인할 수 있습니다.

<img width="863" height="525" alt="image" src="https://github.com/user-attachments/assets/6bb00a4e-a8cd-4e75-83a2-53f81f7abe16" />


- ` $ aws iam list-users ` 를 입력하면 사용자 정보 목록이 뜨는 것도 확인할 수 있습니다.


<img width="896" height="348" alt="image" src="https://github.com/user-attachments/assets/1364eebd-6674-4181-8e6e-802868758770" />
